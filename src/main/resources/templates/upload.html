<!DOCTYPE html>

<html th:lang="#{language_code}" xmlns:th="http://www.thymeleaf.org">
<head>

    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script type="text/javascript">
    if (!window.jQuery) {
       var script = document.createElement('script');
       script.type = 'text/javascript';
       script.src = 'static/js/jquery-1.7.1.js';

       var firstScript = document.getElementsByTagName('script')[0];
       firstScript.parentNode.insertBefore(script, firstScript);
    }
    </script>
    <script th:inline="javascript">
    //This gets the csrf tokens and language code from the website
        /*<![CDATA[*/
        var _csrf_token = /*[[${_csrf.token}]]*/ '';
        var _csrf_param_name = /*[[${_csrf.parameterName}]]*/ '';
        var updateMessage = [[#{update}]];
        /*]]>*/
    </script>

    <title th:text="#{tron_upload}"></title>
    <th:block th:include="fragments/head"/>
</head>
<body onload="cachePage(); update.updateId(updateMessage);">
<header th:include="fragments/navigation :: navigation"/>

<h1 th:text="#{upload}"></h1>

<p th:if="${picture_uploaded}" th:text="#{picture_uploaded}"></p>
<p th:if="${picture_not_uploaded}" th:text="#{picture_not_uploaded}"></p>
<p th:if="${picture_deleted}" th:text="#{picture_deleted}"></p>
<p th:if="${picture_exists}" th:text="#{picture_exists}"></p>

<form th:action="@{/upload}" th:object="${pictureForm}" enctype="multipart/form-data" method="post">
    <p><label for="data" th:text="#{picture}"></label></p>
    <input type="file" id="data" name="data" accept="image/jpeg,image/png" required/>
    <input type="submit" th:value="#{submit}">
</form>

<script src="https://demozone-e2d6.kxcdn.com/static/js/offline.js"></script>
</body>
</html>